{"remainingRequest":"/Users/fudengwei/Downloads/HomeDelivery/node_modules/babel-loader/lib/index.js!/Users/fudengwei/Downloads/HomeDelivery/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/fudengwei/Downloads/HomeDelivery/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/fudengwei/Downloads/HomeDelivery/src/views/shop/Shop.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/fudengwei/Downloads/HomeDelivery/src/views/shop/Shop.vue","mtime":1640758530400},{"path":"/Users/fudengwei/Downloads/HomeDelivery/babel.config.js","mtime":1640758526124},{"path":"/Users/fudengwei/Downloads/HomeDelivery/node_modules/cache-loader/dist/cjs.js","mtime":1640758527159},{"path":"/Users/fudengwei/Downloads/HomeDelivery/node_modules/babel-loader/lib/index.js","mtime":1640758527083},{"path":"/Users/fudengwei/Downloads/HomeDelivery/node_modules/cache-loader/dist/cjs.js","mtime":1640758527159},{"path":"/Users/fudengwei/Downloads/HomeDelivery/node_modules/vue-loader-v16/dist/index.js","mtime":1640758530115}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9mdWRlbmd3ZWkvRG93bmxvYWRzL0hvbWVEZWxpdmVyeS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IHsgcmVhY3RpdmUsIHRvUmVmcyB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IHVzZVJvdXRlciwgdXNlUm91dGUgfSBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IHsgZ2V0IH0gZnJvbSAnLi4vLi4vdXRpbHMvcmVxdWVzdCc7CmltcG9ydCBTaG9wSW5mbyBmcm9tICcuLi8uLi9jb21wb25lbnRzL1Nob3BJbmZvLnZ1ZSc7CmltcG9ydCBDb250ZW50IGZyb20gJy4vQ29udGVudC52dWUnOwppbXBvcnQgQ2FydCBmcm9tICcuL0NhcnQudnVlJzsgLy/ojrflj5blvZPliY3llYbpk7rkv6Hmga8KCnZhciB1c2VTaG9wSW5mb0VmZmVjdCA9IGZ1bmN0aW9uIHVzZVNob3BJbmZvRWZmZWN0KCkgewogIHZhciBkYXRhID0gcmVhY3RpdmUoewogICAgaXRlbToge30KICB9KTsKICB2YXIgcm91dGUgPSB1c2VSb3V0ZSgpOyAvL+iOt+WPluW9k+WJjei3r+eUseeahOS/oeaBrwoKICB2YXIgZ2V0SXRlbURhdGEgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciByZXN1bHQ7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gZ2V0KCIvYXBpL3Nob3AvIi5jb25jYXQocm91dGUucGFyYW1zLmlkKSk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgaWYgKChyZXN1bHQgPT09IG51bGwgfHwgcmVzdWx0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXN1bHQuZXJybm8pID09PSAwICYmIHJlc3VsdCAhPT0gbnVsbCAmJiByZXN1bHQgIT09IHZvaWQgMCAmJiByZXN1bHQuZGF0YSkgewogICAgICAgICAgICAgICAgZGF0YS5pdGVtID0gcmVzdWx0LmRhdGE7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKTsKCiAgICByZXR1cm4gZnVuY3Rpb24gZ2V0SXRlbURhdGEoKSB7CiAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9OwogIH0oKTsKCiAgdmFyIF90b1JlZnMgPSB0b1JlZnMoZGF0YSksCiAgICAgIGl0ZW0gPSBfdG9SZWZzLml0ZW07CgogIHJldHVybiB7CiAgICBpdGVtOiBpdGVtLAogICAgZ2V0SXRlbURhdGE6IGdldEl0ZW1EYXRhCiAgfTsKfTsgLy/ngrnlh7vlm57pgIDpgLvovpEKCgp2YXIgdXNlQmFja1JvdXRlckVmZmVjdCA9IGZ1bmN0aW9uIHVzZUJhY2tSb3V0ZXJFZmZlY3QoKSB7CiAgdmFyIHJvdXRlciA9IHVzZVJvdXRlcigpOyAvL+aVtOS4quWkp+eahOi3r+eUseeahOS/oeaBrwoKICB2YXIgaGFuZGxlQmFja0NsaWNrID0gZnVuY3Rpb24gaGFuZGxlQmFja0NsaWNrKCkgewogICAgcm91dGVyLmJhY2soKTsKICB9OwoKICByZXR1cm4gaGFuZGxlQmFja0NsaWNrOwp9OwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdTaG9wJywKICBjb21wb25lbnRzOiB7CiAgICBTaG9wSW5mbzogU2hvcEluZm8sCiAgICBDb250ZW50OiBDb250ZW50LAogICAgQ2FydDogQ2FydAogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIF91c2VTaG9wSW5mb0VmZmVjdCA9IHVzZVNob3BJbmZvRWZmZWN0KCksCiAgICAgICAgaXRlbSA9IF91c2VTaG9wSW5mb0VmZmVjdC5pdGVtLAogICAgICAgIGdldEl0ZW1EYXRhID0gX3VzZVNob3BJbmZvRWZmZWN0LmdldEl0ZW1EYXRhOwoKICAgIHZhciBoYW5kbGVCYWNrQ2xpY2sgPSB1c2VCYWNrUm91dGVyRWZmZWN0KCk7CiAgICBnZXRJdGVtRGF0YSgpOwogICAgcmV0dXJuIHsKICAgICAgaXRlbTogaXRlbSwKICAgICAgaGFuZGxlQmFja0NsaWNrOiBoYW5kbGVCYWNrQ2xpY2sKICAgIH07CiAgfQp9Ow=="},{"version":3,"sources":["/Users/fudengwei/Downloads/HomeDelivery/src/views/shop/Shop.vue"],"names":[],"mappings":";;AAuBA,SAAS,QAAT,EAAmB,MAAnB,QAAiC,KAAjC;AACA,SAAS,SAAT,EAAoB,QAApB,QAAoC,YAApC;AACA,SAAS,GAAT,QAAoB,qBAApB;AACA,OAAO,QAAP,MAAqB,+BAArB;AACA,OAAO,OAAP,MAAoB,eAApB;AACA,OAAO,IAAP,MAAiB,YAAjB,C,CAEA;;AACA,IAAM,iBAAgB,GAAI,SAApB,iBAAoB,GAAM;AAC5B,MAAM,IAAG,GAAI,QAAQ,CAAC;AAAE,IAAA,IAAI,EAAC;AAAP,GAAD,CAArB;AACA,MAAM,KAAI,GAAI,QAAQ,EAAtB,CAF4B,CAEH;;AACzB,MAAM,WAAU;AAAA,uEAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACK,GAAG,qBAAc,KAAK,CAAC,MAAN,CAAa,EAA3B,EADR;;AAAA;AACV,cAAA,MADU;;AAEhB,kBAAG,CAAA,MAAM,SAAN,IAAA,MAAM,WAAN,YAAA,MAAM,CAAE,KAAR,MAAkB,CAAlB,IAAuB,MAAvB,aAAuB,MAAvB,eAAuB,MAAM,CAAE,IAAlC,EAAuC;AACnC,gBAAA,IAAI,CAAC,IAAL,GAAY,MAAM,CAAC,IAAnB;AACJ;;AAJgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAJ;;AAAA,oBAAV,WAAU;AAAA;AAAA;AAAA,KAAhB;;AAMA,gBAAiB,MAAM,CAAC,IAAD,CAAvB;AAAA,MAAQ,IAAR,WAAQ,IAAR;;AACA,SAAO;AAAE,IAAA,IAAI,EAAJ,IAAF;AAAQ,IAAA,WAAU,EAAV;AAAR,GAAP;AACJ,CAXA,C,CAaA;;;AACA,IAAM,mBAAkB,GAAI,SAAtB,mBAAsB,GAAK;AAC7B,MAAM,MAAK,GAAI,SAAS,EAAxB,CAD6B,CACF;;AAC3B,MAAM,eAAc,GAAI,SAAlB,eAAkB,GAAI;AACxB,IAAA,MAAM,CAAC,IAAP;AACJ,GAFA;;AAGA,SAAO,eAAP;AACJ,CANA;;AAQA,eAAe;AACX,EAAA,IAAI,EAAC,MADM;AAEX,EAAA,UAAU,EAAC;AAAE,IAAA,QAAQ,EAAR,QAAF;AAAY,IAAA,OAAO,EAAP,OAAZ;AAAqB,IAAA,IAAG,EAAH;AAArB,GAFA;AAGX,EAAA,KAHW,mBAGH;AACJ,6BAA8B,iBAAiB,EAA/C;AAAA,QAAQ,IAAR,sBAAQ,IAAR;AAAA,QAAc,WAAd,sBAAc,WAAd;;AACA,QAAM,eAAc,GAAI,mBAAmB,EAA3C;AACA,IAAA,WAAW;AACX,WAAO;AAAE,MAAA,IAAI,EAAJ,IAAF;AAAQ,MAAA,eAAc,EAAd;AAAR,KAAP;AACJ;AARW,CAAf","sourcesContent":["<template>\n    <div class=\"wrapper\">\n        <div class=\"search\">\n            <div @click=\"handleBackClick\" class=\"search__back iconfont\">&#xe679;</div>\n            <div class=\"search__content\">\n                <span class=\"search__content__icon iconfont\">&#xe6e1;</span>\n                <input \n                    class=\"search__content__input\" \n                    placeholder=\"请输入商品名称\"\n                />\n            </div>\n        </div>\n        <ShopInfo \n        :item=\"item\"\n        :hideBorder=\"true\"\n        v-show=\"item.imgUrl\"\n        />\n        <Content :shopName=\"item.name\"/>\n        <Cart />\n    </div>\n    \n</template>\n<script>\nimport { reactive, toRefs } from 'vue'\nimport { useRouter, useRoute } from 'vue-router'\nimport { get } from '../../utils/request'\nimport ShopInfo from '../../components/ShopInfo.vue'\nimport Content from './Content.vue'\nimport Cart from './Cart.vue'\n\n//获取当前商铺信息\nconst useShopInfoEffect = () => {\n    const data = reactive({ item:{} });\n    const route = useRoute();//获取当前路由的信息\n    const getItemData = async () => {\n        const result = await get(`/api/shop/${route.params.id}`)\n        if(result?.errno === 0 && result?.data){\n            data.item = result.data\n        }\n    }\n    const { item } = toRefs(data)\n    return { item, getItemData }\n}\n\n//点击回退逻辑\nconst useBackRouterEffect = () =>{\n    const router = useRouter();//整个大的路由的信息\n    const handleBackClick = ()=>{\n        router.back()\n    }\n    return handleBackClick\n}\n\nexport default {\n    name:'Shop',\n    components:{ ShopInfo, Content, Cart },\n    setup() {\n        const { item, getItemData } = useShopInfoEffect()\n        const handleBackClick = useBackRouterEffect()\n        getItemData()\n        return { item, handleBackClick }\n    }\n}\n</script>\n<style lang=\"scss\" scoped>\n@import '../../style/viriables.scss';\n    .wrapper{\n        padding: 0 .18rem;\n    }\n    .search{\n        height: .32rem;\n        display: flex;\n        margin: .14rem 0 .04rem 0;\n        line-height: .32rem;\n        border-radius: 0.16rem;\n        &__back{\n            width: .32rem;\n            font-size: .2rem;\n            color: #B6B6B6;\n        }\n        &__content{\n            display: flex;\n            flex: 1;\n            line-height: .32rem;\n            background-color: $search-bgColor;\n            border-radius: .16rem;\n            &__icon{\n                width: .44rem;\n                text-align: center;\n                font-size: .22rem;\n                color: $search-fontColor;\n            }\n            &__input{\n                display: block;\n                width: 100%;\n                padding-right: .2rem;\n                border:none;\n                outline: none;\n                height: .32rem;\n                font-size: .14rem;\n                // background:none;\n                border-radius: 0.16rem;\n                 background-color: $search-bgColor;\n                color:$content-fontcolor;\n                &::placeholder{\n                    color: $content-fontcolor;\n                }\n            }\n        }\n    }\n</style>"],"sourceRoot":""}]}