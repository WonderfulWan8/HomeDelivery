{"remainingRequest":"/Users/fudengwei/Downloads/jingdong/node_modules/babel-loader/lib/index.js!/Users/fudengwei/Downloads/jingdong/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/fudengwei/Downloads/jingdong/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/fudengwei/Downloads/jingdong/src/views/shop/Content.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/fudengwei/Downloads/jingdong/src/views/shop/Content.vue","mtime":1640659087797},{"path":"/Users/fudengwei/Downloads/jingdong/babel.config.js","mtime":1638241175000},{"path":"/Users/fudengwei/Downloads/jingdong/node_modules/cache-loader/dist/cjs.js","mtime":1638184662000},{"path":"/Users/fudengwei/Downloads/jingdong/node_modules/babel-loader/lib/index.js","mtime":1638184662000},{"path":"/Users/fudengwei/Downloads/jingdong/node_modules/cache-loader/dist/cjs.js","mtime":1638184662000},{"path":"/Users/fudengwei/Downloads/jingdong/node_modules/vue-loader-v16/dist/index.js","mtime":1638184662000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9mdWRlbmd3ZWkvRG93bmxvYWRzL2ppbmdkb25nL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgeyByZWFjdGl2ZSwgcmVmLCB0b1JlZnMsIHdhdGNoRWZmZWN0IH0gZnJvbSAndnVlJzsKaW1wb3J0IHsgdXNlUm91dGUgfSBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IHsgdXNlU3RvcmUgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgZ2V0IH0gZnJvbSAnLi4vLi4vdXRpbHMvcmVxdWVzdCc7CmltcG9ydCB7IHVzZUNvbW1vbUNhcnRFZmZlY3QgfSBmcm9tICcuL2NvbW1vbkNhcnRFZmZlY3QnOwp2YXIgY2F0ZWdvcmllcyA9IFt7CiAgbmFtZTogJ+WFqOmDqOWVhuWTgScsCiAgdGFiOiAnYWxsJwp9LCB7CiAgbmFtZTogJ+enkuadgCcsCiAgdGFiOiAnc2Vja2lsbCcKfSwgewogIG5hbWU6ICfmlrDpspzmsLTmnpwnLAogIHRhYjogJ2ZydWl0Jwp9XTsgLy8gdGFi5YiH5o2i55u45YWz55qE6YC76L6RCgp2YXIgdXNlVGFiRWZmZWN0ID0gZnVuY3Rpb24gdXNlVGFiRWZmZWN0KCkgewogIHZhciBjdXJyZW50VGFiID0gcmVmKGNhdGVnb3JpZXNbMF0udGFiKTsKCiAgdmFyIGhhbmRsZVRhYkNsaWNrID0gZnVuY3Rpb24gaGFuZGxlVGFiQ2xpY2sodGFiKSB7CiAgICBjdXJyZW50VGFiLnZhbHVlID0gdGFiOwogIH07CgogIHJldHVybiB7CiAgICBjdXJyZW50VGFiOiBjdXJyZW50VGFiLAogICAgaGFuZGxlVGFiQ2xpY2s6IGhhbmRsZVRhYkNsaWNrCiAgfTsKfTsgLy8g5YiX6KGo5YaF5a6555u45YWz55qE6YC76L6RCgoKdmFyIHVzZUN1cnJlbnRMaXN0RWZmZWN0ID0gZnVuY3Rpb24gdXNlQ3VycmVudExpc3RFZmZlY3QoY3VycmVudFRhYiwgc2hvcElkKSB7CiAgdmFyIGNvbnRlbnQgPSByZWFjdGl2ZSh7CiAgICBsaXN0OiBbXQogIH0pOwoKICB2YXIgZ2V0Q29udGVudERhdGEgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUodGFiKSB7CiAgICAgIHZhciBfcmVzdWx0JGRhdGE7CgogICAgICB2YXIgcmVzdWx0OwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIGdldCgiL2FwaS9zaG9wLyIuY29uY2F0KHNob3BJZCwgIi9wcm9kdWN0cyIpLCB7CiAgICAgICAgICAgICAgICB0YWI6IGN1cnJlbnRUYWIudmFsdWUKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICBpZiAoKHJlc3VsdCA9PT0gbnVsbCB8fCByZXN1bHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3VsdC5lcnJubykgPT09IDAgJiYgcmVzdWx0ICE9PSBudWxsICYmIHJlc3VsdCAhPT0gdm9pZCAwICYmIChfcmVzdWx0JGRhdGEgPSByZXN1bHQuZGF0YSkgIT09IG51bGwgJiYgX3Jlc3VsdCRkYXRhICE9PSB2b2lkIDAgJiYgX3Jlc3VsdCRkYXRhLmxlbmd0aCkgewogICAgICAgICAgICAgICAgY29udGVudC5saXN0ID0gcmVzdWx0LmRhdGE7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKTsKCiAgICByZXR1cm4gZnVuY3Rpb24gZ2V0Q29udGVudERhdGEoX3gpIHsKICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH07CiAgfSgpOwoKICB3YXRjaEVmZmVjdChmdW5jdGlvbiAoKSB7CiAgICBnZXRDb250ZW50RGF0YSgpOwogIH0pOwoKICB2YXIgX3RvUmVmcyA9IHRvUmVmcyhjb250ZW50KSwKICAgICAgbGlzdCA9IF90b1JlZnMubGlzdDsKCiAgcmV0dXJuIHsKICAgIGxpc3Q6IGxpc3QKICB9Owp9OyAvLyDotK3nianovabnm7jlhbPpgLvovpEKCgp2YXIgdXNlQ2FydEVmZmVjdCA9IGZ1bmN0aW9uIHVzZUNhcnRFZmZlY3QoKSB7CiAgdmFyIHN0b3JlID0gdXNlU3RvcmUoKTsKCiAgdmFyIF91c2VDb21tb21DYXJ0RWZmZWN0ID0gdXNlQ29tbW9tQ2FydEVmZmVjdCgpLAogICAgICBjYXJ0TGlzdCA9IF91c2VDb21tb21DYXJ0RWZmZWN0LmNhcnRMaXN0LAogICAgICBjaGFuZ2VDYXJ0SXRlbUluZm8gPSBfdXNlQ29tbW9tQ2FydEVmZmVjdC5jaGFuZ2VDYXJ0SXRlbUluZm87CgogIHZhciBjaGFuZ2VTaG9wTmFtZSA9IGZ1bmN0aW9uIGNoYW5nZVNob3BOYW1lKHNob3BJZCwgc2hvcE5hbWUpIHsKICAgIHN0b3JlLmNvbW1pdCgnY2hhbmdlU2hvcE5hbWUnLCB7CiAgICAgIHNob3BJZDogc2hvcElkLAogICAgICBzaG9wTmFtZTogc2hvcE5hbWUKICAgIH0pOwogIH07CgogIHZhciBjaGFuZ2VDYXJ0SXRlbSA9IGZ1bmN0aW9uIGNoYW5nZUNhcnRJdGVtKHNob3BJZCwgcHJvZHVjdElkLCBpdGVtLCBudW0sIHNob3BOYW1lKSB7CiAgICBjaGFuZ2VDYXJ0SXRlbUluZm8oc2hvcElkLCBwcm9kdWN0SWQsIGl0ZW0sIG51bSk7CiAgICBjaGFuZ2VTaG9wTmFtZShzaG9wSWQsIHNob3BOYW1lKTsKICB9OwoKICB2YXIgZ2V0UHJvZHVjdENhcnRDb3VudCA9IGZ1bmN0aW9uIGdldFByb2R1Y3RDYXJ0Q291bnQoc2hvcElkLCBwcm9kdWN0SWQpIHsKICAgIHZhciBfY2FydExpc3Qkc2hvcElkLCBfY2FydExpc3Qkc2hvcElkJHByb2QsIF9jYXJ0TGlzdCRzaG9wSWQkcHJvZDI7CgogICAgcmV0dXJuIChjYXJ0TGlzdCA9PT0gbnVsbCB8fCBjYXJ0TGlzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9jYXJ0TGlzdCRzaG9wSWQgPSBjYXJ0TGlzdFtzaG9wSWRdKSA9PT0gbnVsbCB8fCBfY2FydExpc3Qkc2hvcElkID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX2NhcnRMaXN0JHNob3BJZCRwcm9kID0gX2NhcnRMaXN0JHNob3BJZC5wcm9kdWN0TGlzdCkgPT09IG51bGwgfHwgX2NhcnRMaXN0JHNob3BJZCRwcm9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX2NhcnRMaXN0JHNob3BJZCRwcm9kMiA9IF9jYXJ0TGlzdCRzaG9wSWQkcHJvZFtwcm9kdWN0SWRdKSA9PT0gbnVsbCB8fCBfY2FydExpc3Qkc2hvcElkJHByb2QyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfY2FydExpc3Qkc2hvcElkJHByb2QyLmNvdW50KSB8fCAwOwogIH07CgogIHJldHVybiB7CiAgICBjYXJ0TGlzdDogY2FydExpc3QsCiAgICBjaGFuZ2VDYXJ0SXRlbTogY2hhbmdlQ2FydEl0ZW0sCiAgICBnZXRQcm9kdWN0Q2FydENvdW50OiBnZXRQcm9kdWN0Q2FydENvdW50CiAgfTsKfTsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQ29udGVudCcsCiAgcHJvcHM6IFsnc2hvcE5hbWUnXSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICB2YXIgcm91dGUgPSB1c2VSb3V0ZSgpOwogICAgdmFyIHNob3BJZCA9IHJvdXRlLnBhcmFtcy5pZDsKCiAgICB2YXIgX3VzZVRhYkVmZmVjdCA9IHVzZVRhYkVmZmVjdCgpLAogICAgICAgIGN1cnJlbnRUYWIgPSBfdXNlVGFiRWZmZWN0LmN1cnJlbnRUYWIsCiAgICAgICAgaGFuZGxlVGFiQ2xpY2sgPSBfdXNlVGFiRWZmZWN0LmhhbmRsZVRhYkNsaWNrOwoKICAgIHZhciBfdXNlQ3VycmVudExpc3RFZmZlY3QgPSB1c2VDdXJyZW50TGlzdEVmZmVjdChjdXJyZW50VGFiLCBzaG9wSWQpLAogICAgICAgIGxpc3QgPSBfdXNlQ3VycmVudExpc3RFZmZlY3QubGlzdDsKCiAgICB2YXIgX3VzZUNhcnRFZmZlY3QgPSB1c2VDYXJ0RWZmZWN0KCksCiAgICAgICAgY2FydExpc3QgPSBfdXNlQ2FydEVmZmVjdC5jYXJ0TGlzdCwKICAgICAgICBjaGFuZ2VDYXJ0SXRlbSA9IF91c2VDYXJ0RWZmZWN0LmNoYW5nZUNhcnRJdGVtLAogICAgICAgIGdldFByb2R1Y3RDYXJ0Q291bnQgPSBfdXNlQ2FydEVmZmVjdC5nZXRQcm9kdWN0Q2FydENvdW50OwoKICAgIHJldHVybiB7CiAgICAgIGNhdGVnb3JpZXM6IGNhdGVnb3JpZXMsCiAgICAgIGN1cnJlbnRUYWI6IGN1cnJlbnRUYWIsCiAgICAgIGxpc3Q6IGxpc3QsCiAgICAgIGhhbmRsZVRhYkNsaWNrOiBoYW5kbGVUYWJDbGljaywKICAgICAgc2hvcElkOiBzaG9wSWQsCiAgICAgIC8vIGNoYW5nZUNhcnRJdGVtSW5mbywKICAgICAgY2FydExpc3Q6IGNhcnRMaXN0LAogICAgICBjaGFuZ2VDYXJ0SXRlbTogY2hhbmdlQ2FydEl0ZW0sCiAgICAgIGdldFByb2R1Y3RDYXJ0Q291bnQ6IGdldFByb2R1Y3RDYXJ0Q291bnQKICAgIH07CiAgfQp9Ow=="},{"version":3,"sources":["/Users/fudengwei/Downloads/jingdong/src/views/shop/Content.vue"],"names":[],"mappings":";;AAyCA,SAAS,QAAT,EAAmB,GAAnB,EAAwB,MAAxB,EAAgC,WAAhC,QAAmD,KAAnD;AACA,SAAS,QAAT,QAAyB,YAAzB;AACA,SAAS,QAAT,QAAyB,MAAzB;AACA,SAAS,GAAT,QAAoB,qBAApB;AACA,SAAS,mBAAT,QAAoC,oBAApC;AAEA,IAAM,UAAS,GAAI,CACf;AAAE,EAAA,IAAI,EAAE,MAAR;AAAe,EAAA,GAAG,EAAE;AAApB,CADe,EAEf;AAAE,EAAA,IAAI,EAAE,IAAR;AAAc,EAAA,GAAG,EAAE;AAAnB,CAFe,EAGf;AAAE,EAAA,IAAI,EAAE,MAAR;AAAgB,EAAA,GAAG,EAAE;AAArB,CAHe,CAAnB,C,CAMA;;AACA,IAAM,YAAW,GAAI,SAAf,YAAe,GAAM;AACvB,MAAM,UAAS,GAAI,GAAG,CAAC,UAAU,CAAC,CAAD,CAAV,CAAc,GAAf,CAAtB;;AACA,MAAM,cAAa,GAAI,SAAjB,cAAiB,CAAC,GAAD,EAAS;AAC5B,IAAA,UAAU,CAAC,KAAX,GAAmB,GAAnB;AACJ,GAFA;;AAGA,SAAO;AAAE,IAAA,UAAU,EAAV,UAAF;AAAc,IAAA,cAAa,EAAb;AAAd,GAAP;AACJ,CANA,C,CAQA;;;AACA,IAAM,oBAAmB,GAAI,SAAvB,oBAAuB,CAAC,UAAD,EAAa,MAAb,EAAwB;AACjD,MAAM,OAAM,GAAI,QAAQ,CAAC;AAAE,IAAA,IAAI,EAAE;AAAR,GAAD,CAAxB;;AACA,MAAM,cAAa;AAAA,uEAAI,iBAAQ,GAAR;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACE,GAAG,qBAAc,MAAd,gBAAgC;AACpD,gBAAA,GAAG,EAAE,UAAU,CAAC;AADoC,eAAhC,CADL;;AAAA;AACb,cAAA,MADa;;AAInB,kBAAG,CAAA,MAAM,SAAN,IAAA,MAAM,WAAN,YAAA,MAAM,CAAE,KAAR,MAAkB,CAAlB,IAAuB,MAAvB,aAAuB,MAAvB,+BAAuB,MAAM,CAAE,IAA/B,yCAAuB,aAAc,MAAxC,EAA+C;AAC3C,gBAAA,OAAO,CAAC,IAAR,GAAe,MAAM,CAAC,IAAtB;AACJ;;AANmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAJ;;AAAA,oBAAb,cAAa;AAAA;AAAA;AAAA,KAAnB;;AAQA,EAAA,WAAW,CAAE,YAAM;AAAE,IAAA,cAAc;AAAI,GAA5B,CAAX;;AACA,gBAAiB,MAAM,CAAC,OAAD,CAAvB;AAAA,MAAQ,IAAR,WAAQ,IAAR;;AACA,SAAO;AAAE,IAAA,IAAG,EAAH;AAAF,GAAP;AACJ,CAbA,C,CAeA;;;AACA,IAAM,aAAY,GAAI,SAAhB,aAAgB,GAAI;AACtB,MAAM,KAAI,GAAI,QAAQ,EAAtB;;AACA,6BAAyC,mBAAmB,EAA5D;AAAA,MAAQ,QAAR,wBAAQ,QAAR;AAAA,MAAkB,kBAAlB,wBAAkB,kBAAlB;;AACA,MAAM,cAAa,GAAI,SAAjB,cAAiB,CAAC,MAAD,EAAS,QAAT,EAAoB;AACvC,IAAA,KAAK,CAAC,MAAN,CAAa,gBAAb,EAA8B;AAAE,MAAA,MAAM,EAAN,MAAF;AAAU,MAAA,QAAO,EAAP;AAAV,KAA9B;AACJ,GAFA;;AAGA,MAAM,cAAa,GAAI,SAAjB,cAAiB,CAAC,MAAD,EAAS,SAAT,EAAoB,IAApB,EAA0B,GAA1B,EAA+B,QAA/B,EAA6C;AAChE,IAAA,kBAAkB,CAAC,MAAD,EAAS,SAAT,EAAoB,IAApB,EAA0B,GAA1B,CAAlB;AACA,IAAA,cAAc,CAAC,MAAD,EAAS,QAAT,CAAd;AACJ,GAHA;;AAIA,MAAM,mBAAkB,GAAI,SAAtB,mBAAsB,CAAC,MAAD,EAAS,SAAT,EAAuB;AAAA;;AAC/C,WAAQ,CAAA,QAAQ,SAAR,IAAA,QAAQ,WAAR,gCAAA,QAAQ,CAAG,MAAH,CAAR,+FAAoB,WAApB,0GAAkC,SAAlC,mFAA8C,KAA9C,KAAuD,CAA/D;AACJ,GAFA;;AAGA,SAAO;AAAE,IAAA,QAAQ,EAAR,QAAF;AAAY,IAAA,cAAc,EAAd,cAAZ;AAA4B,IAAA,mBAAkB,EAAlB;AAA5B,GAAP;AACJ,CAdA;;AAgBA,eAAe;AACX,EAAA,IAAI,EAAC,SADM;AAEX,EAAA,KAAK,EAAE,CAAC,UAAD,CAFI;AAGX,EAAA,KAHW,mBAGJ;AACH,QAAM,KAAI,GAAI,QAAQ,EAAtB;AAEA,QAAM,MAAK,GAAI,KAAK,CAAC,MAAN,CAAa,EAA5B;;AACA,wBAAuC,YAAY,EAAnD;AAAA,QAAQ,UAAR,iBAAQ,UAAR;AAAA,QAAoB,cAApB,iBAAoB,cAApB;;AACA,gCAAiB,oBAAoB,CAAC,UAAD,EAAa,MAAb,CAArC;AAAA,QAAQ,IAAR,yBAAQ,IAAR;;AACA,yBAA0D,aAAa,EAAvE;AAAA,QAAQ,QAAR,kBAAQ,QAAR;AAAA,QAAkB,cAAlB,kBAAkB,cAAlB;AAAA,QAAkC,mBAAlC,kBAAkC,mBAAlC;;AACA,WAAO;AACH,MAAA,UAAU,EAAV,UADG;AAEH,MAAA,UAAU,EAAV,UAFG;AAGH,MAAA,IAAI,EAAJ,IAHG;AAIH,MAAA,cAAc,EAAd,cAJG;AAKH,MAAA,MAAM,EAAN,MALG;AAMH;AACA,MAAA,QAAQ,EAAR,QAPG;AAQH,MAAA,cAAc,EAAd,cARG;AASH,MAAA,mBAAmB,EAAnB;AATG,KAAP;AAWJ;AArBW,CAAf","sourcesContent":["<template>\n    <div class=\"content\">\n        <div class=\"category\">\n            <div \n            :class=\"{ 'category__item':true, 'category__item--active': currentTab === item.tab}\"\n            v-for=\"item in categories\"    \n            :key=\"item.name\"\n            @click=\" () => handleTabClick(item.tab)\"\n            >{{item.name}}</div>\n        </div>\n        <div class=\"product\">\n            <div\n            class=\"product__item\"\n             v-for=\"(item) in list\"\n             :key=\"item._id\"\n             >\n                <img :src=\"item.imgUrl\" class=\"product__item__img\" alt=\"\">\n                <div class=\"product__item__detail\">\n                    <h4 class=\"product__item__title\">{{ item.name }}</h4>\n                    <p class=\"product__item__sales\">月售 {{ item.sales }} 件</p>\n                    <p class=\"product__item__price\">\n                        <span class=\"product__item__yen\">&yen;</span>{{ item.price }}\n                        <span class=\"product__item__origin\">&yen;{{ item.oldPrice }}</span>\n                    </p>\n                </div>\n                <div class=\"product__number\">\n                    <span\n                        class=\"product__number__minus\"\n                        @click=\" () => { changeCartItem(shopId, item._id, item, -1, shopName) }\"\n                    >-</span>\n                        {{ getProductCartCount(shopId, item._id) }}\n                    <span \n                        class=\"product__number__plus\"\n                        @click=\" () => { changeCartItem(shopId, item._id, item, 1, shopName) }\"\n                    >+</span>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport { reactive, ref, toRefs, watchEffect } from 'vue'\nimport { useRoute } from 'vue-router'\nimport { useStore } from 'vuex'\nimport { get } from '../../utils/request'\nimport { useCommomCartEffect } from './commonCartEffect'\n\nconst categories = [\n    { name: '全部商品',tab: 'all'}, \n    { name: '秒杀', tab: 'seckill' }, \n    { name: '新鲜水果', tab: 'fruit' },\n]\n\n// tab切换相关的逻辑\nconst useTabEffect = () => {\n    const currentTab = ref(categories[0].tab);\n    const handleTabClick = (tab) => {\n        currentTab.value = tab\n    }\n    return { currentTab, handleTabClick }\n}\n\n// 列表内容相关的逻辑\nconst useCurrentListEffect = (currentTab, shopId) => {\n    const content = reactive({ list: [] })\n    const getContentData = async ( tab ) => {\n        const result = await get(`/api/shop/${shopId}/products`,{ \n            tab: currentTab.value\n        })\n        if(result?.errno === 0 && result?.data?.length){\n            content.list = result.data;\n        }\n    }\n    watchEffect( () => { getContentData() })\n    const { list } = toRefs(content)\n    return { list }\n}\n\n// 购物车相关逻辑\nconst useCartEffect = ()=>{\n    const store = useStore()\n    const { cartList, changeCartItemInfo } = useCommomCartEffect();\n    const changeShopName = (shopId, shopName)=>{\n        store.commit('changeShopName',{ shopId, shopName })\n    }\n    const changeCartItem = (shopId, productId, item, num, shopName ) => {\n        changeCartItemInfo(shopId, productId, item, num)\n        changeShopName(shopId, shopName)\n    }\n    const getProductCartCount = (shopId, productId) => {\n        return  cartList?.[shopId]?.productList?.[productId]?.count || 0 \n    }\n    return { cartList, changeCartItem, getProductCartCount }\n}\n\nexport default {\n    name:'Content', \n    props: ['shopName'],\n    setup(){\n        const route = useRoute()\n        \n        const shopId = route.params.id\n        const { currentTab, handleTabClick } = useTabEffect();\n        const { list } = useCurrentListEffect(currentTab, shopId)\n        const { cartList, changeCartItem, getProductCartCount } = useCartEffect()\n        return { \n            categories,\n            currentTab,\n            list,\n            handleTabClick,\n            shopId,\n            // changeCartItemInfo,\n            cartList,\n            changeCartItem,\n            getProductCartCount,\n        }\n    }\n}\n</script>\n<style lang=\"scss\" scoped>\n@import '../../style/viriables.scss';\n@import '../../style/mixins.scss';\n.content{\n    display: flex;\n    position: absolute;\n    top: 1.5rem;\n    left: 0;\n    right: 0;\n    bottom: .5rem;\n}\n.category{\n    overflow-y: scroll;//沿y轴滚动\n    height: 100%;\n    width: .76rem;\n    background-color: $search-bgColor ;\n    &__item{\n        height: .4rem;\n        text-align: center;\n        line-height: .4rem;\n        font-size: .14rem;\n        color: $content-fontcolor;     \n        &--active{\n            background-color: $bgColor;\n        }\n    }\n}\n.product{\n    overflow-y: scroll;//y轴滚动\n    flex: 1;\n    // background-color: orange;\n    &__item{\n        position: relative;\n        display: flex;\n        padding: .12rem 0;//下面有边框，用padding会有问题\n        margin: 0 .16rem;\n        border-bottom: .01rem solid $content-bgColor;\n        &__detail{\n            overflow:hidden;\n        }\n        &__img{\n            width: 0.68rem;\n            height: 0.68rem;\n            margin-right: .16rem;\n        }\n        &__title{\n            line-height: .2rem;\n            font-size: .14rem;\n            color: $content-fontcolor;\n            margin: 0;\n            @include ellipsis\n        }\n        &__sales{\n            margin: .06rem 0;\n            // line-height: .16rem;\n            font-size: .12rem;\n            color: $content-fontcolor;\n        }\n        &__price{\n            margin: 0;\n            line-height: .2rem;\n            font-size: .14rem;\n            color: $highlight-fontColor;\n        }\n        &__yen{\n            font-size: .12rem;\n        }\n        &__origin{\n            margin-left: .16rem;\n            font-size: .12rem;\n            color: $light-fontColor;\n            text-decoration: line-through;\n        }\n        .product__number{\n            position: absolute;\n            right: .0rem;\n            bottom: .12rem;\n            &__minus,&__plus{\n                \n                display: inline-block;\n                width: .2rem;\n                height: .2rem;\n                line-height: .16rem;\n                border-radius: 50%;\n                font-size: .2rem;\n                text-align: center;\n            }\n            &__minus{\n                border: .01rem solid $medium-fontColor;\n                color: $medium-fontColor;\n                margin-right: .1rem;\n            }\n            &__plus{\n                color: $bgColor;\n                background-color: $btn-bgColor ;\n                margin-left: .1rem;\n            }\n        }\n    }\n}\n</style>"],"sourceRoot":""}]}