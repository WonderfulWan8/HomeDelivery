{"remainingRequest":"E:\\HomeDelivery\\node_modules\\babel-loader\\lib\\index.js!E:\\HomeDelivery\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!E:\\HomeDelivery\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\HomeDelivery\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!E:\\HomeDelivery\\src\\views\\orderList\\OrderList.vue?vue&type=template&id=0f701602&scoped=true","dependencies":[{"path":"E:\\HomeDelivery\\src\\views\\orderList\\OrderList.vue","mtime":1646128462958},{"path":"E:\\HomeDelivery\\babel.config.js","mtime":1643435139739},{"path":"E:\\HomeDelivery\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1643435142996},{"path":"E:\\HomeDelivery\\node_modules\\babel-loader\\lib\\index.js","mtime":1643435142701},{"path":"E:\\HomeDelivery\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1643435152315},{"path":"E:\\HomeDelivery\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1643435142996},{"path":"E:\\HomeDelivery\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1643435152307}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIHJlbmRlckxpc3QgYXMgX3JlbmRlckxpc3QsIEZyYWdtZW50IGFzIF9GcmFnbWVudCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrLCB0b0Rpc3BsYXlTdHJpbmcgYXMgX3RvRGlzcGxheVN0cmluZywgY3JlYXRlVGV4dFZOb2RlIGFzIF9jcmVhdGVUZXh0Vk5vZGUsIHZTaG93IGFzIF92U2hvdywgd2l0aERpcmVjdGl2ZXMgYXMgX3dpdGhEaXJlY3RpdmVzLCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgX2NyZWF0ZUNvbW1lbnRWTm9kZSwgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBwdXNoU2NvcGVJZCBhcyBfcHVzaFNjb3BlSWQsIHBvcFNjb3BlSWQgYXMgX3BvcFNjb3BlSWQgfSBmcm9tICJ2dWUiOwoKdmFyIF93aXRoU2NvcGVJZCA9IGZ1bmN0aW9uIF93aXRoU2NvcGVJZChuKSB7CiAgcmV0dXJuIF9wdXNoU2NvcGVJZCgiZGF0YS12LTBmNzAxNjAyIiksIG4gPSBuKCksIF9wb3BTY29wZUlkKCksIG47Cn07Cgp2YXIgX2hvaXN0ZWRfMSA9IHsKICBjbGFzczogIndyYXBwZXIiCn07Cgp2YXIgX2hvaXN0ZWRfMiA9IC8qI19fUFVSRV9fKi9fd2l0aFNjb3BlSWQoZnVuY3Rpb24gKCkgewogIHJldHVybiAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogICAgY2xhc3M6ICJ0aXRsZSIKICB9LCAiIOaIkeeahOiuouWNlSAiLCAtMQogIC8qIEhPSVNURUQgKi8KICApOwp9KTsKCnZhciBfaG9pc3RlZF8zID0gewogIGNsYXNzOiAib3JkZXJzIgp9Owp2YXIgX2hvaXN0ZWRfNCA9IHsKICBjbGFzczogIm9yZGVyX190aXRsZSIKfTsKdmFyIF9ob2lzdGVkXzUgPSB7CiAgY2xhc3M6ICJvcmRlcl9fc3RhdHVzIgp9Owp2YXIgX2hvaXN0ZWRfNiA9IHsKICBjbGFzczogIm9yZGVyX19jb250ZW50Igp9Owp2YXIgX2hvaXN0ZWRfNyA9IHsKICBjbGFzczogIm9yZGVyX19jb250ZW50X19pbWdzIgp9Owp2YXIgX2hvaXN0ZWRfOCA9IFsic3JjIl07CnZhciBfaG9pc3RlZF85ID0gewogIGNsYXNzOiAib3JkZXJfX2NvbnRlbnRfX2luZm8iCn07CnZhciBfaG9pc3RlZF8xMCA9IHsKICBjbGFzczogIm9yZGVyX19jb250ZW50X19wcmljZSIKfTsKdmFyIF9ob2lzdGVkXzExID0gewogIGNsYXNzOiAib3JkZXJfX2NvbnRlbnRfX2NvdW50Igp9OwpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfY29tcG9uZW50X0RvY2tlciA9IF9yZXNvbHZlQ29tcG9uZW50KCJEb2NrZXIiKTsKCiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xLCBbX2hvaXN0ZWRfMiwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMywgWyhfb3BlbkJsb2NrKHRydWUpLCBfY3JlYXRlRWxlbWVudEJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QoJHNldHVwLmxpc3QsIGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgewogICAgICBjbGFzczogIm9yZGVyIiwKICAgICAga2V5OiBpbmRleAogICAgfSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzQsIFtfY3JlYXRlVGV4dFZOb2RlKF90b0Rpc3BsYXlTdHJpbmcoaXRlbS5zaG9wTmFtZSkgKyAiICIsIDEKICAgIC8qIFRFWFQgKi8KICAgICksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBfaG9pc3RlZF81LCBfdG9EaXNwbGF5U3RyaW5nKGl0ZW0uaXNDYW5jZWxlZCA/ICflt7Llj5bmtognIDogJ+W3suS4i+WNlScpLCAxCiAgICAvKiBURVhUICovCiAgICApXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzYsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF83LCBbKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBfcmVuZGVyTGlzdChpdGVtLnByb2R1Y3RzLCBmdW5jdGlvbiAoaW5uZXJJdGVtLCBpbm5lckluZGV4KSB7CiAgICAgIHJldHVybiBfd2l0aERpcmVjdGl2ZXMoKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiaW1nIiwgewogICAgICAgIGtleTogaW5uZXJJbmRleCwKICAgICAgICBjbGFzczogIm9yZGVyX19jb250ZW50X19pbWciLAogICAgICAgIHNyYzogaW5uZXJJdGVtLnByb2R1Y3QuaW1nCiAgICAgIH0sIG51bGwsIDgKICAgICAgLyogUFJPUFMgKi8KICAgICAgLCBfaG9pc3RlZF84KSksIFtbX3ZTaG93LCBpbm5lckluZGV4IDw9IDNdXSk7CiAgICB9KSwgMTI4CiAgICAvKiBLRVlFRF9GUkFHTUVOVCAqLwogICAgKSldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfOSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzEwLCAi77+lIiArIF90b0Rpc3BsYXlTdHJpbmcoaXRlbS50b3RhbCksIDEKICAgIC8qIFRFWFQgKi8KICAgICksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzExLCAi5YWxIiArIF90b0Rpc3BsYXlTdHJpbmcoaXRlbS50b3RhbE51bWJlcikgKyAi5Lu2IiwgMQogICAgLyogVEVYVCAqLwogICAgKV0pXSldKTsKICB9KSwgMTI4CiAgLyogS0VZRURfRlJBR01FTlQgKi8KICApKV0pXSksIF9jcmVhdGVDb21tZW50Vk5vZGUoIiDlupXpg6jlr7zoiKrmoI/nu4Tku7YgIiksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X0RvY2tlciwgewogICAgY3VycmVudEluZGV4OiAyCiAgfSldLCA2NAogIC8qIFNUQUJMRV9GUkFHTUVOVCAqLwogICk7Cn0="},{"version":3,"sources":["E:\\HomeDelivery\\src\\views\\orderList\\OrderList.vue"],"names":[],"mappings":";;;;;;;AACS,EAAA,KAAK,EAAC;;;;sBACP,mBAAA,CAEM,KAFN,EAEM;AAFD,IAAA,KAAK,EAAC;AAEL,GAFN,EAAmB,QAAnB,EAEA,CAAA;AAAA;AAFA,G;;;;AAGK,EAAA,KAAK,EAAC;;;AAME,EAAA,KAAK,EAAC;;;AAED,EAAA,KAAK,EAAC;;;AAIX,EAAA,KAAK,EAAC;;;AACF,EAAA,KAAK,EAAC;;;;AAYN,EAAA,KAAK,EAAC;;;AACF,EAAA,KAAK,EAAC;;;AACN,EAAA,KAAK,EAAC;;;;;6DA/B/B,mBAAA,CAoCM,KApCN,EAAA,UAAA,EAoCM,CAnCF,UAmCE,EAhCF,mBAAA,CA+BM,KA/BN,EAAA,UAAA,EA+BM,E,kBA9BF,mBAAA,CA6BM,SA7BN,EA6BM,IA7BN,EA6BM,WAAA,CA3BsB,MAAA,CAAA,IA2BtB,EA3B0B,UAApB,IAAoB,EAAd,KAAc,EAAT;yBAFvB,mBAAA,CA6BM,KA7BN,EA6BM;AA5BF,MAAA,KAAK,EAAC,OA4BJ;AA1BD,MAAA,GAAG,EAAE;AA0BJ,KA7BN,E,CAKI,mBAAA,CAKM,KALN,EAAA,UAAA,EAKM,C,kCAJA,IAAI,CAAC,Q,IAAU,G,EACjB;AAAA;KAGE,EAHF,mBAAA,CAEO,MAFP,EAAA,UAAA,EAEO,gBAAA,CADA,IAAI,CAAC,UAAL,GAAe,KAAf,GAAe,KACf,CAFP,EACsB;AAAA;AADtB,KAGE,CALN,C,EAMA,mBAAA,CAiBM,KAjBN,EAAA,UAAA,EAiBM,CAhBF,mBAAA,CAWM,KAXN,EAAA,UAAA,EAWM,E,kBAVF,mBAAA,CASW,SATX,EASW,IATX,EASW,WAAA,CAR2B,IAAI,CAAC,QAQhC,EARwC,UAAvC,SAAuC,EAA5B,UAA4B,EAAlB;4CAG7B,mBAAA,CAIC,KAJD,EAIC;aANK,UAML;AAHD,QAAA,KAAK,EAAC,qBAGL;AAFA,QAAA,GAAG,EAAE,SAAS,CAAC,OAAV,CAAkB;AAEvB,OAJD,E,IAAA,E;;AAAA,Q,UAAA,C,aAGQ,UAAU,IAAA,C;KAEX,CATX,E;;AAAA,KAUE,EAXN,CAgBE,EAJF,mBAAA,CAGM,KAHN,EAAA,UAAA,EAGM,CAFF,mBAAA,CAAwD,KAAxD,EAAA,WAAA,EAAmC,MAAC,gBAAA,CAAE,IAAI,CAAC,KAAP,CAApC,EAAgD;AAAA;AAAhD,KAEE,EADF,mBAAA,CAAiE,KAAjE,EAAA,WAAA,EAAmC,MAAC,gBAAA,CAAG,IAAI,CAAC,WAAR,CAAD,GAAuB,GAA1D,EAA2D;AAAA;AAA3D,KACE,CAHN,CAIE,CAjBN,C,CAXJ,C;GA6BM,CA7BN,E;;AAAA,GA8BE,EA/BN,CAgCE,CApCN,C,EAqCA,mBAAA,CAAA,WAAA,C,EACA,YAAA,CAA2B,iBAA3B,EAA2B;AAAlB,IAAA,YAAY,EAAE;AAAI,GAA3B,C","sourcesContent":["<template>\r\n    <div class=\"wrapper\">\r\n        <div class=\"title\">\r\n            我的订单\r\n        </div>\r\n        <div class=\"orders\">\r\n            <div\r\n                class=\"order\"\r\n                v-for=\"(item, index) in list\"\r\n                :key=\"index\"\r\n            >\r\n                <div class=\"order__title\">\r\n                    {{item.shopName}}\r\n                    <span class=\"order__status\">\r\n                        {{ item.isCanceled ? '已取消' : '已下单' }}\r\n                    </span>\r\n                </div>\r\n                <div class=\"order__content\">\r\n                    <div class=\"order__content__imgs\">\r\n                        <template\r\n                            v-for=\"(innerItem, innerIndex) in item.products\"\r\n                            :key=\"innerIndex\"\r\n                        >\r\n                            <img\r\n                            class=\"order__content__img\" \r\n                            :src=\"innerItem.product.img\"\r\n                            v-show=\"innerIndex <= 3\"\r\n                            >\r\n                        </template>\r\n                    </div>\r\n                    <div class=\"order__content__info\">\r\n                        <div class=\"order__content__price\">￥{{item.total}}</div>\r\n                        <div class=\"order__content__count\">共{{ item.totalNumber }}件</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <!-- 底部导航栏组件 -->\r\n    <Docker :currentIndex=\"2\"/>\r\n</template>\r\n\r\n<script>\r\nimport { reactive, toRefs } from 'vue';\r\nimport { get } from '../../utils/request'\r\nimport Docker from '../../components/Docker';\r\n// 处理订单列表逻辑\r\nconst useOrderListEffect = () => {\r\n    const data = reactive( { list:[] } )\r\n    const getNearbyList = async () => {\r\n        const result = await get('/api/order')\r\n        if (result?.errno === 0 && result?.data?.length) {\r\n\r\n            const orderList = result.data;\r\n            // 计算总价逻辑\r\n            orderList.forEach( (order) => {\r\n                const products = order.products || [] ;\r\n                let totalPrice = 0;\r\n                let totalNumber = 0;\r\n                products.forEach( (productItem)=>{\r\n                    totalNumber += ( productItem?.orderSales || 0 );\r\n                    totalPrice += ( (productItem?.product?.price * productItem?.orderSales) || 0 );\r\n                });\r\n                order.total = totalPrice;\r\n                order.totalNumber = totalNumber;\r\n            });\r\n            data.list = result.data;\r\n        }\r\n  }\r\n  \r\n  getNearbyList();\r\n  const { list } = toRefs(data);\r\n  return { list }\r\n}\r\n\r\n\r\nexport default{\r\n    name: 'OrderList',\r\n    components:{ Docker },\r\n    setup(){\r\n        const { list } = useOrderListEffect();\r\n        console.log(list, \"---------------------list\");\r\n        return{ list }\r\n    }\r\n}\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../../style/viriables.scss';\r\n.wrapper{\r\n    overflow-y:auto ;\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    bottom: .5rem;\r\n    right: 0;\r\n    /* padding: 0 .18rem .1rem .18rem; */\r\n    background-color: #eee;\r\n}\r\n.title{\r\n    line-height: .44rem;\r\n    font-size: .16rem;\r\n    color: content-fontcolor;\r\n    background: rgb(248, 248, 248);\r\n    text-align: center;\r\n}\r\n.orders{\r\n\r\n}\r\n.order{\r\n    padding: .16rem;\r\n    margin: .16rem .18rem;\r\n    background-color: #fff;\r\n    &__title{\r\n        margin-bottom: .16rem;\r\n        font-size: .16rem;\r\n        color:content-fontcolor;\r\n        line-height: .22rem;\r\n    }\r\n    &__status{\r\n        float: right;\r\n        color: #999;\r\n        font-size: .14rem;\r\n    }\r\n    &__content{\r\n        display: flex;\r\n        &__imgs{\r\n            flex: 1;\r\n        }\r\n        &__img{\r\n            width: .4rem;\r\n            height: .4rem;\r\n            margin-right: .12rem;\r\n        }\r\n        &__info{\r\n            width: .7rem;\r\n        }\r\n        &__price{\r\n            margin-bottom: .04rem;\r\n            line-height: .2rem;\r\n            font-size: .14rem;\r\n            color: red;\r\n            text-align: right;\r\n        }\r\n        &__count{\r\n            line-height: .14rem;\r\n            text-align: right;\r\n            color: content-fontcolor;\r\n        }\r\n    }\r\n}\r\n</style>"],"sourceRoot":""}]}