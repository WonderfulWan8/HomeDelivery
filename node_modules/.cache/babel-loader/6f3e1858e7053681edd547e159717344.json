{"remainingRequest":"E:\\HomeDelivery\\node_modules\\babel-loader\\lib\\index.js!E:\\HomeDelivery\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\HomeDelivery\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!E:\\HomeDelivery\\src\\views\\shop\\Content.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\HomeDelivery\\src\\views\\shop\\Content.vue","mtime":1643435153058},{"path":"E:\\HomeDelivery\\babel.config.js","mtime":1643435139739},{"path":"E:\\HomeDelivery\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1643435142996},{"path":"E:\\HomeDelivery\\node_modules\\babel-loader\\lib\\index.js","mtime":1643435142701},{"path":"E:\\HomeDelivery\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1643435142996},{"path":"E:\\HomeDelivery\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1643435152307}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkU6XFxIb21lRGVsaXZlcnlcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGFzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCB7IHJlYWN0aXZlLCByZWYsIHRvUmVmcywgd2F0Y2hFZmZlY3QgfSBmcm9tICd2dWUnOwppbXBvcnQgeyB1c2VSb3V0ZSB9IGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgeyB1c2VTdG9yZSB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyBnZXQgfSBmcm9tICcuLi8uLi91dGlscy9yZXF1ZXN0JzsKaW1wb3J0IHsgdXNlQ29tbW9tQ2FydEVmZmVjdCB9IGZyb20gJy4vY29tbW9uQ2FydEVmZmVjdCc7CnZhciBjYXRlZ29yaWVzID0gW3sKICBuYW1lOiAn5YWo6YOo5ZWG5ZOBJywKICB0YWI6ICdhbGwnCn0sIHsKICBuYW1lOiAn56eS5p2AJywKICB0YWI6ICdzZWNraWxsJwp9LCB7CiAgbmFtZTogJ+aWsOmynOawtOaenCcsCiAgdGFiOiAnZnJ1aXQnCn1dOyAvLyB0YWLliIfmjaLnm7jlhbPnmoTpgLvovpEKCnZhciB1c2VUYWJFZmZlY3QgPSBmdW5jdGlvbiB1c2VUYWJFZmZlY3QoKSB7CiAgdmFyIGN1cnJlbnRUYWIgPSByZWYoY2F0ZWdvcmllc1swXS50YWIpOwoKICB2YXIgaGFuZGxlVGFiQ2xpY2sgPSBmdW5jdGlvbiBoYW5kbGVUYWJDbGljayh0YWIpIHsKICAgIGN1cnJlbnRUYWIudmFsdWUgPSB0YWI7CiAgfTsKCiAgcmV0dXJuIHsKICAgIGN1cnJlbnRUYWI6IGN1cnJlbnRUYWIsCiAgICBoYW5kbGVUYWJDbGljazogaGFuZGxlVGFiQ2xpY2sKICB9Owp9OyAvLyDliJfooajlhoXlrrnnm7jlhbPnmoTpgLvovpEKCgp2YXIgdXNlQ3VycmVudExpc3RFZmZlY3QgPSBmdW5jdGlvbiB1c2VDdXJyZW50TGlzdEVmZmVjdChjdXJyZW50VGFiLCBzaG9wSWQpIHsKICB2YXIgY29udGVudCA9IHJlYWN0aXZlKHsKICAgIGxpc3Q6IFtdCiAgfSk7CgogIHZhciBnZXRDb250ZW50RGF0YSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSh0YWIpIHsKICAgICAgdmFyIF9yZXN1bHQkZGF0YTsKCiAgICAgIHZhciByZXN1bHQ7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gZ2V0KCIvYXBpL3Nob3AvIi5jb25jYXQoc2hvcElkLCAiL3Byb2R1Y3RzIiksIHsKICAgICAgICAgICAgICAgIHRhYjogY3VycmVudFRhYi52YWx1ZQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgIGlmICgocmVzdWx0ID09PSBudWxsIHx8IHJlc3VsdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzdWx0LmVycm5vKSA9PT0gMCAmJiByZXN1bHQgIT09IG51bGwgJiYgcmVzdWx0ICE9PSB2b2lkIDAgJiYgKF9yZXN1bHQkZGF0YSA9IHJlc3VsdC5kYXRhKSAhPT0gbnVsbCAmJiBfcmVzdWx0JGRhdGEgIT09IHZvaWQgMCAmJiBfcmVzdWx0JGRhdGEubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICBjb250ZW50Lmxpc3QgPSByZXN1bHQuZGF0YTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpOwoKICAgIHJldHVybiBmdW5jdGlvbiBnZXRDb250ZW50RGF0YShfeCkgewogICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfTsKICB9KCk7CgogIHdhdGNoRWZmZWN0KGZ1bmN0aW9uICgpIHsKICAgIGdldENvbnRlbnREYXRhKCk7CiAgfSk7CgogIHZhciBfdG9SZWZzID0gdG9SZWZzKGNvbnRlbnQpLAogICAgICBsaXN0ID0gX3RvUmVmcy5saXN0OwoKICByZXR1cm4gewogICAgbGlzdDogbGlzdAogIH07Cn07IC8vIOi0reeJqei9puebuOWFs+mAu+i+kQoKCnZhciB1c2VDYXJ0RWZmZWN0ID0gZnVuY3Rpb24gdXNlQ2FydEVmZmVjdCgpIHsKICB2YXIgc3RvcmUgPSB1c2VTdG9yZSgpOwoKICB2YXIgX3VzZUNvbW1vbUNhcnRFZmZlY3QgPSB1c2VDb21tb21DYXJ0RWZmZWN0KCksCiAgICAgIGNhcnRMaXN0ID0gX3VzZUNvbW1vbUNhcnRFZmZlY3QuY2FydExpc3QsCiAgICAgIGNoYW5nZUNhcnRJdGVtSW5mbyA9IF91c2VDb21tb21DYXJ0RWZmZWN0LmNoYW5nZUNhcnRJdGVtSW5mbzsKCiAgdmFyIGNoYW5nZVNob3BOYW1lID0gZnVuY3Rpb24gY2hhbmdlU2hvcE5hbWUoc2hvcElkLCBzaG9wTmFtZSkgewogICAgc3RvcmUuY29tbWl0KCdjaGFuZ2VTaG9wTmFtZScsIHsKICAgICAgc2hvcElkOiBzaG9wSWQsCiAgICAgIHNob3BOYW1lOiBzaG9wTmFtZQogICAgfSk7CiAgfTsKCiAgdmFyIGNoYW5nZUNhcnRJdGVtID0gZnVuY3Rpb24gY2hhbmdlQ2FydEl0ZW0oc2hvcElkLCBwcm9kdWN0SWQsIGl0ZW0sIG51bSwgc2hvcE5hbWUpIHsKICAgIGNoYW5nZUNhcnRJdGVtSW5mbyhzaG9wSWQsIHByb2R1Y3RJZCwgaXRlbSwgbnVtKTsKICAgIGNoYW5nZVNob3BOYW1lKHNob3BJZCwgc2hvcE5hbWUpOwogIH07CgogIHZhciBnZXRQcm9kdWN0Q2FydENvdW50ID0gZnVuY3Rpb24gZ2V0UHJvZHVjdENhcnRDb3VudChzaG9wSWQsIHByb2R1Y3RJZCkgewogICAgdmFyIF9jYXJ0TGlzdCRzaG9wSWQsIF9jYXJ0TGlzdCRzaG9wSWQkcHJvZCwgX2NhcnRMaXN0JHNob3BJZCRwcm9kMjsKCiAgICByZXR1cm4gKGNhcnRMaXN0ID09PSBudWxsIHx8IGNhcnRMaXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX2NhcnRMaXN0JHNob3BJZCA9IGNhcnRMaXN0W3Nob3BJZF0pID09PSBudWxsIHx8IF9jYXJ0TGlzdCRzaG9wSWQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfY2FydExpc3Qkc2hvcElkJHByb2QgPSBfY2FydExpc3Qkc2hvcElkLnByb2R1Y3RMaXN0KSA9PT0gbnVsbCB8fCBfY2FydExpc3Qkc2hvcElkJHByb2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfY2FydExpc3Qkc2hvcElkJHByb2QyID0gX2NhcnRMaXN0JHNob3BJZCRwcm9kW3Byb2R1Y3RJZF0pID09PSBudWxsIHx8IF9jYXJ0TGlzdCRzaG9wSWQkcHJvZDIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jYXJ0TGlzdCRzaG9wSWQkcHJvZDIuY291bnQpIHx8IDA7CiAgfTsKCiAgcmV0dXJuIHsKICAgIGNhcnRMaXN0OiBjYXJ0TGlzdCwKICAgIGNoYW5nZUNhcnRJdGVtOiBjaGFuZ2VDYXJ0SXRlbSwKICAgIGdldFByb2R1Y3RDYXJ0Q291bnQ6IGdldFByb2R1Y3RDYXJ0Q291bnQKICB9Owp9OwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdDb250ZW50JywKICBwcm9wczogWydzaG9wTmFtZSddLAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIHZhciByb3V0ZSA9IHVzZVJvdXRlKCk7CiAgICB2YXIgc2hvcElkID0gcm91dGUucGFyYW1zLmlkOwoKICAgIHZhciBfdXNlVGFiRWZmZWN0ID0gdXNlVGFiRWZmZWN0KCksCiAgICAgICAgY3VycmVudFRhYiA9IF91c2VUYWJFZmZlY3QuY3VycmVudFRhYiwKICAgICAgICBoYW5kbGVUYWJDbGljayA9IF91c2VUYWJFZmZlY3QuaGFuZGxlVGFiQ2xpY2s7CgogICAgdmFyIF91c2VDdXJyZW50TGlzdEVmZmVjdCA9IHVzZUN1cnJlbnRMaXN0RWZmZWN0KGN1cnJlbnRUYWIsIHNob3BJZCksCiAgICAgICAgbGlzdCA9IF91c2VDdXJyZW50TGlzdEVmZmVjdC5saXN0OwoKICAgIHZhciBfdXNlQ2FydEVmZmVjdCA9IHVzZUNhcnRFZmZlY3QoKSwKICAgICAgICBjYXJ0TGlzdCA9IF91c2VDYXJ0RWZmZWN0LmNhcnRMaXN0LAogICAgICAgIGNoYW5nZUNhcnRJdGVtID0gX3VzZUNhcnRFZmZlY3QuY2hhbmdlQ2FydEl0ZW0sCiAgICAgICAgZ2V0UHJvZHVjdENhcnRDb3VudCA9IF91c2VDYXJ0RWZmZWN0LmdldFByb2R1Y3RDYXJ0Q291bnQ7CgogICAgcmV0dXJuIHsKICAgICAgY2F0ZWdvcmllczogY2F0ZWdvcmllcywKICAgICAgY3VycmVudFRhYjogY3VycmVudFRhYiwKICAgICAgbGlzdDogbGlzdCwKICAgICAgaGFuZGxlVGFiQ2xpY2s6IGhhbmRsZVRhYkNsaWNrLAogICAgICBzaG9wSWQ6IHNob3BJZCwKICAgICAgLy8gY2hhbmdlQ2FydEl0ZW1JbmZvLAogICAgICBjYXJ0TGlzdDogY2FydExpc3QsCiAgICAgIGNoYW5nZUNhcnRJdGVtOiBjaGFuZ2VDYXJ0SXRlbSwKICAgICAgZ2V0UHJvZHVjdENhcnRDb3VudDogZ2V0UHJvZHVjdENhcnRDb3VudAogICAgfTsKICB9Cn07"},{"version":3,"sources":["E:\\HomeDelivery\\src\\views\\shop\\Content.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div class=\"content\">\r\n        <div class=\"category\">\r\n            <div \r\n            :class=\"{ 'category__item':true, 'category__item--active': currentTab === item.tab}\"\r\n            v-for=\"item in categories\"    \r\n            :key=\"item.name\"\r\n            @click=\" () => handleTabClick(item.tab)\"\r\n            >{{item.name}}</div>\r\n        </div>\r\n        <div class=\"product\">\r\n            <div\r\n            class=\"product__item\"\r\n             v-for=\"(item) in list\"\r\n             :key=\"item._id\"\r\n             >\r\n                <img :src=\"item.imgUrl\" class=\"product__item__img\" alt=\"\">\r\n                <div class=\"product__item__detail\">\r\n                    <h4 class=\"product__item__title\">{{ item.name }}</h4>\r\n                    <p class=\"product__item__sales\">月售 {{ item.sales }} 件</p>\r\n                    <p class=\"product__item__price\">\r\n                        <span class=\"product__item__yen\">&yen;</span>{{ item.price }}\r\n                        <span class=\"product__item__origin\">&yen;{{ item.oldPrice }}</span>\r\n                    </p>\r\n                </div>\r\n                <div class=\"product__number\">\r\n                    <span\r\n                        class=\"product__number__minus\"\r\n                        @click=\" () => { changeCartItem(shopId, item._id, item, -1, shopName) }\"\r\n                    >-</span>\r\n                        {{ getProductCartCount(shopId, item._id) }}\r\n                    <span \r\n                        class=\"product__number__plus\"\r\n                        @click=\" () => { changeCartItem(shopId, item._id, item, 1, shopName) }\"\r\n                    >+</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { reactive, ref, toRefs, watchEffect } from 'vue'\r\nimport { useRoute } from 'vue-router'\r\nimport { useStore } from 'vuex'\r\nimport { get } from '../../utils/request'\r\nimport { useCommomCartEffect } from './commonCartEffect'\r\n\r\nconst categories = [\r\n    { name: '全部商品',tab: 'all'}, \r\n    { name: '秒杀', tab: 'seckill' }, \r\n    { name: '新鲜水果', tab: 'fruit' },\r\n]\r\n\r\n// tab切换相关的逻辑\r\nconst useTabEffect = () => {\r\n    const currentTab = ref(categories[0].tab);\r\n    const handleTabClick = (tab) => {\r\n        currentTab.value = tab\r\n    }\r\n    return { currentTab, handleTabClick }\r\n}\r\n\r\n// 列表内容相关的逻辑\r\nconst useCurrentListEffect = (currentTab, shopId) => {\r\n    const content = reactive({ list: [] })\r\n    const getContentData = async ( tab ) => {\r\n        const result = await get(`/api/shop/${shopId}/products`,{ \r\n            tab: currentTab.value\r\n        })\r\n        if(result?.errno === 0 && result?.data?.length){\r\n            content.list = result.data;\r\n        }\r\n    }\r\n    watchEffect( () => { getContentData() })\r\n    const { list } = toRefs(content)\r\n    return { list }\r\n}\r\n\r\n// 购物车相关逻辑\r\nconst useCartEffect = ()=>{\r\n    const store = useStore()\r\n    const { cartList, changeCartItemInfo } = useCommomCartEffect();\r\n    const changeShopName = (shopId, shopName)=>{\r\n        store.commit('changeShopName',{ shopId, shopName })\r\n    }\r\n    const changeCartItem = (shopId, productId, item, num, shopName ) => {\r\n        changeCartItemInfo(shopId, productId, item, num)\r\n        changeShopName(shopId, shopName)\r\n    }\r\n    const getProductCartCount = (shopId, productId) => {\r\n        return  cartList?.[shopId]?.productList?.[productId]?.count || 0 \r\n    }\r\n    return { cartList, changeCartItem, getProductCartCount }\r\n}\r\n\r\nexport default {\r\n    name:'Content', \r\n    props: ['shopName'],\r\n    setup(){\r\n        const route = useRoute()\r\n        \r\n        const shopId = route.params.id\r\n        const { currentTab, handleTabClick } = useTabEffect();\r\n        const { list } = useCurrentListEffect(currentTab, shopId)\r\n        const { cartList, changeCartItem, getProductCartCount } = useCartEffect()\r\n        return { \r\n            categories,\r\n            currentTab,\r\n            list,\r\n            handleTabClick,\r\n            shopId,\r\n            // changeCartItemInfo,\r\n            cartList,\r\n            changeCartItem,\r\n            getProductCartCount,\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import '../../style/viriables.scss';\r\n@import '../../style/mixins.scss';\r\n.content{\r\n    display: flex;\r\n    position: absolute;\r\n    top: 1.5rem;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: .5rem;\r\n}\r\n.category{\r\n    overflow-y: scroll;//沿y轴滚动\r\n    height: 100%;\r\n    width: .76rem;\r\n    background-color: $search-bgColor ;\r\n    &__item{\r\n        height: .4rem;\r\n        text-align: center;\r\n        line-height: .4rem;\r\n        font-size: .14rem;\r\n        color: $content-fontcolor;     \r\n        &--active{\r\n            background-color: $bgColor;\r\n        }\r\n    }\r\n}\r\n.product{\r\n    overflow-y: scroll;//y轴滚动\r\n    flex: 1;\r\n    // background-color: orange;\r\n    &__item{\r\n        position: relative;\r\n        display: flex;\r\n        padding: .12rem 0;//下面有边框，用padding会有问题\r\n        margin: 0 .16rem;\r\n        border-bottom: .01rem solid $content-bgColor;\r\n        &__detail{\r\n            overflow:hidden;\r\n        }\r\n        &__img{\r\n            width: 0.68rem;\r\n            height: 0.68rem;\r\n            margin-right: .16rem;\r\n        }\r\n        &__title{\r\n            line-height: .2rem;\r\n            font-size: .14rem;\r\n            color: $content-fontcolor;\r\n            margin: 0;\r\n            @include ellipsis\r\n        }\r\n        &__sales{\r\n            margin: .06rem 0;\r\n            // line-height: .16rem;\r\n            font-size: .12rem;\r\n            color: $content-fontcolor;\r\n        }\r\n        &__price{\r\n            margin: 0;\r\n            line-height: .2rem;\r\n            font-size: .14rem;\r\n            color: $highlight-fontColor;\r\n        }\r\n        &__yen{\r\n            font-size: .12rem;\r\n        }\r\n        &__origin{\r\n            margin-left: .16rem;\r\n            font-size: .12rem;\r\n            color: $light-fontColor;\r\n            text-decoration: line-through;\r\n        }\r\n        .product__number{\r\n            position: absolute;\r\n            right: .0rem;\r\n            bottom: .12rem;\r\n            &__minus,&__plus{\r\n                \r\n                display: inline-block;\r\n                width: .2rem;\r\n                height: .2rem;\r\n                line-height: .16rem;\r\n                border-radius: 50%;\r\n                font-size: .2rem;\r\n                text-align: center;\r\n            }\r\n            &__minus{\r\n                border: .01rem solid $medium-fontColor;\r\n                color: $medium-fontColor;\r\n                margin-right: .1rem;\r\n            }\r\n            &__plus{\r\n                color: $bgColor;\r\n                background-color: $btn-bgColor ;\r\n                margin-left: .1rem;\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>"],"sourceRoot":""}]}