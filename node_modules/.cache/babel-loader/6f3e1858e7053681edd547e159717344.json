{"remainingRequest":"E:\\HomeDelivery\\node_modules\\babel-loader\\lib\\index.js!E:\\HomeDelivery\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\HomeDelivery\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!E:\\HomeDelivery\\src\\views\\shop\\Content.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\HomeDelivery\\src\\views\\shop\\Content.vue","mtime":1646131221842},{"path":"E:\\HomeDelivery\\babel.config.js","mtime":1643435139739},{"path":"E:\\HomeDelivery\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1643435142996},{"path":"E:\\HomeDelivery\\node_modules\\babel-loader\\lib\\index.js","mtime":1643435142701},{"path":"E:\\HomeDelivery\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1643435142996},{"path":"E:\\HomeDelivery\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1643435152307}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkU6XFxIb21lRGVsaXZlcnlcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGFzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCB7IHJlYWN0aXZlLCByZWYsIHRvUmVmcywgd2F0Y2hFZmZlY3QgfSBmcm9tICd2dWUnOwppbXBvcnQgeyB1c2VSb3V0ZSB9IGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgeyB1c2VTdG9yZSB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyBnZXQgfSBmcm9tICcuLi8uLi91dGlscy9yZXF1ZXN0JzsKaW1wb3J0IHsgdXNlQ29tbW9tQ2FydEVmZmVjdCB9IGZyb20gJy4uLy4uL2VmZmVjdHMvY2FydEVmZmVjdHMnOwp2YXIgY2F0ZWdvcmllcyA9IFt7CiAgbmFtZTogJ+WFqOmDqOWVhuWTgScsCiAgdGFiOiAnYWxsJwp9LCB7CiAgbmFtZTogJ+enkuadgCcsCiAgdGFiOiAnc2Vja2lsbCcKfSwgewogIG5hbWU6ICfmlrDpspzmsLTmnpwnLAogIHRhYjogJ2ZydWl0Jwp9XTsgLy8gdGFi5YiH5o2i55u45YWz55qE6YC76L6RCgp2YXIgdXNlVGFiRWZmZWN0ID0gZnVuY3Rpb24gdXNlVGFiRWZmZWN0KCkgewogIHZhciBjdXJyZW50VGFiID0gcmVmKGNhdGVnb3JpZXNbMF0udGFiKTsKCiAgdmFyIGhhbmRsZVRhYkNsaWNrID0gZnVuY3Rpb24gaGFuZGxlVGFiQ2xpY2sodGFiKSB7CiAgICBjdXJyZW50VGFiLnZhbHVlID0gdGFiOwogIH07CgogIHJldHVybiB7CiAgICBjdXJyZW50VGFiOiBjdXJyZW50VGFiLAogICAgaGFuZGxlVGFiQ2xpY2s6IGhhbmRsZVRhYkNsaWNrCiAgfTsKfTsgLy8g5YiX6KGo5YaF5a6555u45YWz55qE6YC76L6RCgoKdmFyIHVzZUN1cnJlbnRMaXN0RWZmZWN0ID0gZnVuY3Rpb24gdXNlQ3VycmVudExpc3RFZmZlY3QoY3VycmVudFRhYiwgc2hvcElkKSB7CiAgdmFyIGNvbnRlbnQgPSByZWFjdGl2ZSh7CiAgICBsaXN0OiBbXQogIH0pOwoKICB2YXIgZ2V0Q29udGVudERhdGEgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUodGFiKSB7CiAgICAgIHZhciBfcmVzdWx0JGRhdGE7CgogICAgICB2YXIgcmVzdWx0OwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIGdldCgiL2FwaS9zaG9wLyIuY29uY2F0KHNob3BJZCwgIi9wcm9kdWN0cyIpLCB7CiAgICAgICAgICAgICAgICB0YWI6IGN1cnJlbnRUYWIudmFsdWUKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICBpZiAoKHJlc3VsdCA9PT0gbnVsbCB8fCByZXN1bHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3VsdC5lcnJubykgPT09IDAgJiYgcmVzdWx0ICE9PSBudWxsICYmIHJlc3VsdCAhPT0gdm9pZCAwICYmIChfcmVzdWx0JGRhdGEgPSByZXN1bHQuZGF0YSkgIT09IG51bGwgJiYgX3Jlc3VsdCRkYXRhICE9PSB2b2lkIDAgJiYgX3Jlc3VsdCRkYXRhLmxlbmd0aCkgewogICAgICAgICAgICAgICAgY29udGVudC5saXN0ID0gcmVzdWx0LmRhdGE7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKTsKCiAgICByZXR1cm4gZnVuY3Rpb24gZ2V0Q29udGVudERhdGEoX3gpIHsKICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH07CiAgfSgpOwoKICB3YXRjaEVmZmVjdChmdW5jdGlvbiAoKSB7CiAgICBnZXRDb250ZW50RGF0YSgpOwogIH0pOwoKICB2YXIgX3RvUmVmcyA9IHRvUmVmcyhjb250ZW50KSwKICAgICAgbGlzdCA9IF90b1JlZnMubGlzdDsKCiAgcmV0dXJuIHsKICAgIGxpc3Q6IGxpc3QKICB9Owp9OyAvLyDotK3nianovabnm7jlhbPpgLvovpEKCgp2YXIgdXNlQ2FydEVmZmVjdCA9IGZ1bmN0aW9uIHVzZUNhcnRFZmZlY3QoKSB7CiAgdmFyIHN0b3JlID0gdXNlU3RvcmUoKTsKCiAgdmFyIF91c2VDb21tb21DYXJ0RWZmZWN0ID0gdXNlQ29tbW9tQ2FydEVmZmVjdCgpLAogICAgICBjYXJ0TGlzdCA9IF91c2VDb21tb21DYXJ0RWZmZWN0LmNhcnRMaXN0LAogICAgICBjaGFuZ2VDYXJ0SXRlbUluZm8gPSBfdXNlQ29tbW9tQ2FydEVmZmVjdC5jaGFuZ2VDYXJ0SXRlbUluZm87CgogIHZhciBjaGFuZ2VTaG9wTmFtZSA9IGZ1bmN0aW9uIGNoYW5nZVNob3BOYW1lKHNob3BJZCwgc2hvcE5hbWUpIHsKICAgIHN0b3JlLmNvbW1pdCgnY2hhbmdlU2hvcE5hbWUnLCB7CiAgICAgIHNob3BJZDogc2hvcElkLAogICAgICBzaG9wTmFtZTogc2hvcE5hbWUKICAgIH0pOwogIH07CgogIHZhciBjaGFuZ2VDYXJ0SXRlbSA9IGZ1bmN0aW9uIGNoYW5nZUNhcnRJdGVtKHNob3BJZCwgcHJvZHVjdElkLCBpdGVtLCBudW0sIHNob3BOYW1lKSB7CiAgICBjaGFuZ2VDYXJ0SXRlbUluZm8oc2hvcElkLCBwcm9kdWN0SWQsIGl0ZW0sIG51bSk7CiAgICBjaGFuZ2VTaG9wTmFtZShzaG9wSWQsIHNob3BOYW1lKTsKICB9OwoKICB2YXIgZ2V0UHJvZHVjdENhcnRDb3VudCA9IGZ1bmN0aW9uIGdldFByb2R1Y3RDYXJ0Q291bnQoc2hvcElkLCBwcm9kdWN0SWQpIHsKICAgIHZhciBfY2FydExpc3Qkc2hvcElkLCBfY2FydExpc3Qkc2hvcElkJHByb2QsIF9jYXJ0TGlzdCRzaG9wSWQkcHJvZDI7CgogICAgcmV0dXJuIChjYXJ0TGlzdCA9PT0gbnVsbCB8fCBjYXJ0TGlzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9jYXJ0TGlzdCRzaG9wSWQgPSBjYXJ0TGlzdFtzaG9wSWRdKSA9PT0gbnVsbCB8fCBfY2FydExpc3Qkc2hvcElkID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX2NhcnRMaXN0JHNob3BJZCRwcm9kID0gX2NhcnRMaXN0JHNob3BJZC5wcm9kdWN0TGlzdCkgPT09IG51bGwgfHwgX2NhcnRMaXN0JHNob3BJZCRwcm9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX2NhcnRMaXN0JHNob3BJZCRwcm9kMiA9IF9jYXJ0TGlzdCRzaG9wSWQkcHJvZFtwcm9kdWN0SWRdKSA9PT0gbnVsbCB8fCBfY2FydExpc3Qkc2hvcElkJHByb2QyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfY2FydExpc3Qkc2hvcElkJHByb2QyLmNvdW50KSB8fCAwOwogIH07CgogIHJldHVybiB7CiAgICBjYXJ0TGlzdDogY2FydExpc3QsCiAgICBjaGFuZ2VDYXJ0SXRlbTogY2hhbmdlQ2FydEl0ZW0sCiAgICBnZXRQcm9kdWN0Q2FydENvdW50OiBnZXRQcm9kdWN0Q2FydENvdW50CiAgfTsKfTsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQ29udGVudCcsCiAgcHJvcHM6IFsnc2hvcE5hbWUnXSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICB2YXIgcm91dGUgPSB1c2VSb3V0ZSgpOwogICAgdmFyIHNob3BJZCA9IHJvdXRlLnBhcmFtcy5pZDsKCiAgICB2YXIgX3VzZVRhYkVmZmVjdCA9IHVzZVRhYkVmZmVjdCgpLAogICAgICAgIGN1cnJlbnRUYWIgPSBfdXNlVGFiRWZmZWN0LmN1cnJlbnRUYWIsCiAgICAgICAgaGFuZGxlVGFiQ2xpY2sgPSBfdXNlVGFiRWZmZWN0LmhhbmRsZVRhYkNsaWNrOwoKICAgIHZhciBfdXNlQ3VycmVudExpc3RFZmZlY3QgPSB1c2VDdXJyZW50TGlzdEVmZmVjdChjdXJyZW50VGFiLCBzaG9wSWQpLAogICAgICAgIGxpc3QgPSBfdXNlQ3VycmVudExpc3RFZmZlY3QubGlzdDsKCiAgICB2YXIgX3VzZUNhcnRFZmZlY3QgPSB1c2VDYXJ0RWZmZWN0KCksCiAgICAgICAgY2FydExpc3QgPSBfdXNlQ2FydEVmZmVjdC5jYXJ0TGlzdCwKICAgICAgICBjaGFuZ2VDYXJ0SXRlbSA9IF91c2VDYXJ0RWZmZWN0LmNoYW5nZUNhcnRJdGVtLAogICAgICAgIGdldFByb2R1Y3RDYXJ0Q291bnQgPSBfdXNlQ2FydEVmZmVjdC5nZXRQcm9kdWN0Q2FydENvdW50OwoKICAgIHJldHVybiB7CiAgICAgIGNhdGVnb3JpZXM6IGNhdGVnb3JpZXMsCiAgICAgIGN1cnJlbnRUYWI6IGN1cnJlbnRUYWIsCiAgICAgIGxpc3Q6IGxpc3QsCiAgICAgIGhhbmRsZVRhYkNsaWNrOiBoYW5kbGVUYWJDbGljaywKICAgICAgc2hvcElkOiBzaG9wSWQsCiAgICAgIC8vIGNoYW5nZUNhcnRJdGVtSW5mbywKICAgICAgY2FydExpc3Q6IGNhcnRMaXN0LAogICAgICBjaGFuZ2VDYXJ0SXRlbTogY2hhbmdlQ2FydEl0ZW0sCiAgICAgIGdldFByb2R1Y3RDYXJ0Q291bnQ6IGdldFByb2R1Y3RDYXJ0Q291bnQKICAgIH07CiAgfQp9Ow=="},{"version":3,"sources":["E:\\HomeDelivery\\src\\views\\shop\\Content.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div class=\"content\">\r\n        <div class=\"category\">\r\n            <div \r\n            :class=\"{ 'category__item':true, 'category__item--active': currentTab === item.tab}\"\r\n            v-for=\"item in categories\"    \r\n            :key=\"item.name\"\r\n            @click=\" () => handleTabClick(item.tab)\"\r\n            >{{item.name}}</div>\r\n        </div>\r\n        <div class=\"product\">\r\n            <div\r\n            class=\"product__item\"\r\n             v-for=\"(item) in list\"\r\n             :key=\"item._id\"\r\n             >\r\n                <img :src=\"item.imgUrl\" class=\"product__item__img\" alt=\"\">\r\n                <div class=\"product__item__detail\">\r\n                    <h4 class=\"product__item__title\">{{ item.name }}</h4>\r\n                    <p class=\"product__item__sales\">月售 {{ item.sales }} 件</p>\r\n                    <p class=\"product__item__price\">\r\n                        <span class=\"product__item__yen\">&yen;</span>{{ item.price }}\r\n                        <span class=\"product__item__origin\">&yen;{{ item.oldPrice }}</span>\r\n                    </p>\r\n                </div>\r\n                <div class=\"product__number\">\r\n                    <span\r\n                        class=\"product__number__minus iconfont\"\r\n                        @click=\" () => { changeCartItem(shopId, item._id, item, -1, shopName) }\"\r\n                    >&#xe66d;</span>\r\n                        {{ getProductCartCount(shopId, item._id) }}\r\n                    <span \r\n                        class=\"product__number__plus iconfont\"\r\n                        @click=\" () => { changeCartItem(shopId, item._id, item, 1, shopName) }\"\r\n                    >&#xe667;</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { reactive, ref, toRefs, watchEffect } from 'vue'\r\nimport { useRoute } from 'vue-router'\r\nimport { useStore } from 'vuex'\r\nimport { get } from '../../utils/request'\r\nimport { useCommomCartEffect } from '../../effects/cartEffects'\r\n\r\nconst categories = [\r\n    { name: '全部商品',tab: 'all'}, \r\n    { name: '秒杀', tab: 'seckill' }, \r\n    { name: '新鲜水果', tab: 'fruit' },\r\n]\r\n\r\n// tab切换相关的逻辑\r\nconst useTabEffect = () => {\r\n    const currentTab = ref(categories[0].tab);\r\n    const handleTabClick = (tab) => {\r\n        currentTab.value = tab\r\n    }\r\n    return { currentTab, handleTabClick }\r\n}\r\n\r\n// 列表内容相关的逻辑\r\nconst useCurrentListEffect = (currentTab, shopId) => {\r\n    const content = reactive({ list: [] })\r\n    const getContentData = async ( tab ) => {\r\n        const result = await get(`/api/shop/${shopId}/products`,{ \r\n            tab: currentTab.value\r\n        })\r\n        if(result?.errno === 0 && result?.data?.length){\r\n            content.list = result.data;\r\n        }\r\n    }\r\n    watchEffect( () => { getContentData() })\r\n    const { list } = toRefs(content)\r\n    return { list }\r\n}\r\n\r\n// 购物车相关逻辑\r\nconst useCartEffect = ()=>{\r\n    const store = useStore()\r\n    const { cartList, changeCartItemInfo } = useCommomCartEffect();\r\n    const changeShopName = (shopId, shopName)=>{\r\n        store.commit('changeShopName',{ shopId, shopName })\r\n    }\r\n    const changeCartItem = (shopId, productId, item, num, shopName ) => {\r\n        changeCartItemInfo(shopId, productId, item, num)\r\n        changeShopName(shopId, shopName)\r\n    }\r\n    const getProductCartCount = (shopId, productId) => {\r\n        return  cartList?.[shopId]?.productList?.[productId]?.count || 0 \r\n    }\r\n    return { cartList, changeCartItem, getProductCartCount }\r\n}\r\n\r\nexport default {\r\n    name:'Content', \r\n    props: ['shopName'],\r\n    setup(){\r\n        const route = useRoute()\r\n        \r\n        const shopId = route.params.id\r\n        const { currentTab, handleTabClick } = useTabEffect();\r\n        const { list } = useCurrentListEffect(currentTab, shopId)\r\n        const { cartList, changeCartItem, getProductCartCount } = useCartEffect()\r\n        return { \r\n            categories,\r\n            currentTab,\r\n            list,\r\n            handleTabClick,\r\n            shopId,\r\n            // changeCartItemInfo,\r\n            cartList,\r\n            changeCartItem,\r\n            getProductCartCount,\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import '../../style/viriables.scss';\r\n@import '../../style/mixins.scss';\r\n.content{\r\n    display: flex;\r\n    position: absolute;\r\n    top: 1.5rem;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: .5rem;\r\n}\r\n.category{\r\n    overflow-y: scroll;//沿y轴滚动\r\n    height: 100%;\r\n    width: .76rem;\r\n    background-color: $search-bgColor ;\r\n    &__item{\r\n        height: .4rem;\r\n        text-align: center;\r\n        line-height: .4rem;\r\n        font-size: .14rem;\r\n        color: $content-fontcolor;     \r\n        &--active{\r\n            background-color: $bgColor;\r\n        }\r\n    }\r\n}\r\n.product{\r\n    overflow-y: scroll;//y轴滚动\r\n    flex: 1;\r\n    // background-color: orange;\r\n    &__item{\r\n        position: relative;\r\n        display: flex;\r\n        padding: .12rem 0;//下面有边框，用padding会有问题\r\n        margin: 0 .16rem;\r\n        border-bottom: .01rem solid $content-bgColor;\r\n        &__detail{\r\n            overflow:hidden;\r\n        }\r\n        &__img{\r\n            width: 0.68rem;\r\n            height: 0.68rem;\r\n            margin-right: .16rem;\r\n        }\r\n        &__title{\r\n            line-height: .2rem;\r\n            font-size: .14rem;\r\n            color: $content-fontcolor;\r\n            margin: 0;\r\n            @include ellipsis\r\n        }\r\n        &__sales{\r\n            margin: .06rem 0;\r\n            // line-height: .16rem;\r\n            font-size: .12rem;\r\n            color: $content-fontcolor;\r\n        }\r\n        &__price{\r\n            margin: 0;\r\n            line-height: .2rem;\r\n            font-size: .14rem;\r\n            color: $highlight-fontColor;\r\n        }\r\n        &__yen{\r\n            font-size: .12rem;\r\n        }\r\n        &__origin{\r\n            margin-left: .16rem;\r\n            font-size: .12rem;\r\n            color: $light-fontColor;\r\n            text-decoration: line-through;\r\n        }\r\n        .product__number{\r\n            position: absolute;\r\n            right: .0rem;\r\n            bottom: .12rem;\r\n            line-height: .18rem;\r\n            &__minus{\r\n                position: relative;\r\n                top: .02rem;\r\n                color: $medium-fontColor;\r\n                margin-right: .1rem;\r\n            }\r\n            &__plus{\r\n                position: relative;\r\n                top: .02rem;\r\n                color: $btn-bgColor;\r\n                margin-left: .1rem;\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>"],"sourceRoot":""}]}